function tileType(e,t){return t?tileVegetationTypeFromSteepness[e]:e}function heatmap(e,t,i,r,a){for(var n=0,s=0,o=0;a>o;o++){var l=Math.pow(2,o);n+=i.noise2D(e/r*l,t/r*l)/l,s+=1/l}return n/s}function setCenterTile(e){centerPoint.x=Math.sqrt(3)*(e.q+e.r/2)|0,centerPoint.y=1.5*e.r}function continent(e,t,i){var r=1100,a=heatmap(e,t,simplex1,.8*r,8);return a=(a+1)/2,a*=Math.exp((-(e-i.x)*(e-i.x)-(t-i.y)*(t-i.y))/(r*r))}function terrain(e){var t,i;void 0===e.x?(t=Math.sqrt(3)*(e.q+e.r/2)|0,i=1.5*e.r):(t=e.x,i=e.y);var r=simplex2.noise2D(i/500,t/500),a=1-Math.abs((4*simplex1.noise2D(t/4/factor,i/4/factor)+2*simplex1.noise2D(t/2/factor,i/2/factor)+1*simplex1.noise2D(t/1/factor,i/1/factor)+.5*simplex1.noise2D(2*t/factor,2*i/factor))/7.5),n=Math.sin(-(5*r)*Math.abs(simplex1.noise2D(.25*t/factor,.25*i/factor))+simplex1.noise2D(t/factor,i/factor)-.5*simplex1.noise2D(2*t/factor,2*i/factor)+.25*simplex1.noise2D(4*t/factor,4*i/factor)-1/8*simplex1.noise2D(8*t/factor,8*i/factor)+1/16*simplex1.noise2D(16*t/factor,16*i/factor)),s=-simplex2.noise2D(i/factor/8,t/factor/8)+simplex2.noise2D(i/factor/4,t/factor/4)+n/2,o=r*simplex2.noise2D(t/factor,i/factor)+.5*simplex2.noise2D(2*t/factor,2*i/factor)+.25*simplex2.noise2D(4*t/factor,4*i/factor)+1/8*simplex2.noise2D(8*t/factor,8*i/factor)+1/16*simplex2.noise2D(16*t/factor,16*i/factor),l=n-a,p=.35,m=continent(t,i,centerPoint);if(m>p)var u=(n>.6?!1:a>.98)||-.7>3*s/4+n/4?(l=(m-2+s/8-1.5)/2,tileTypes.water):-1>o?tileTypes.hill:-.2>l?tileTypes.steppe:.2>l?tileTypes.hill:tileTypes.mountain,h=o-(u===tileTypes.water?2*s:0)+Math.abs(n+.15)<0;else{var u=tileTypes.water,h=!1;l=(m-2+s/8-1.5)/2}var f={steepness:u,vegetation:h,type:tileType(u,h),height:l,rain:-o/2};return f}function distance(e){var t=terrain(e),i=humanity(e),r=distances[i&&i.b?i.b:t.type];return void 0===r&&(r=distances[t.type]),r}function neighborFromTile(e,t){return 0===t?{q:e.q+1,r:e.r}:1===t?{q:e.q+1,r:e.r-1}:2===t?{q:e.q,r:e.r-1}:3===t?{q:e.q-1,r:e.r}:4===t?{q:e.q-1,r:e.r+1}:5===t?{q:e.q,r:e.r+1}:void 0}function keyFromTile(e){return e.q+":"+e.r}function tileFromKey(e){var t=e.split(":");return{q:0|t[0],r:0|t[1]}}function travelFrom(e,t){var i=humanity(e).c,r={},a=keyFromTile(e);r[a]=null;var n={};n[a]=0;var s=[];for(s.push(a);s.length>0;){a=s.shift();var o=humanity(tileFromKey(a));if(!o||null==o.c||o.c===i)for(var l=0;6>l;l++){var p=neighborFromTile(tileFromKey(a),l),m=n[a]+distance(p);if(t>=m){var u=keyFromTile(p);if(void 0!==n[u]&&m<n[u]&&delete n[u],void 0===n[u]&&void 0===r[u]){n[u]=m,r[u]=a;for(var h=-1,f=0;f<s.length;f++)if(void 0!==n[s[f]]){if(n[u]<=n[s[f]]){h=f;break}}else s.splice(f,1),f--;-1===h?s.push(u):s.splice(h,0,u)}}}}return r}function travelTo(e,t,i,r,a){null==r&&(r=MAX_INT),null==a&&(a=humanity(e));var n=a.c,s=keyFromTile(t),o={},l={},p={},m=[],u={},h=keyFromTile(e);for(u[h]=null,l[h]=0,m.push(h);m.length>0&&s!==h;){h=m.shift(),o[h]=!0;var f=humanity(tileFromKey(h));if(!f||null==f.c||f.c===n)for(var c=0;6>c;c++){var y=neighborFromTile(tileFromKey(h),c),d=distance(y);if(!(d>i)){if(0>=r)return null;r--;var T=l[h]+d,v=keyFromTile(y);if(void 0!==l[v]&&T<l[v]&&delete l[v],void 0===l[v]&&void 0===o[v]){l[v]=T,p[v]=T+(Math.abs(t.q-y.q)+Math.abs(t.r-y.r)+Math.abs(t.q+t.r-y.q-y.r))/2;for(var g=-1,M=0;M<m.length;M++)if(void 0!==p[m[M]]){if(p[v]<=p[m[M]]){g=M;break}}else m.splice(M,1),M--;-1===g?m.push(v):m.splice(g,0,v),u[v]=h}}}}return s!==h?null:{endKey:s,parents:u,costs:l}}function pathFromParents(e,t){var i=[];if(null==t[e])return[];for(;null!==t[e];)i.push(e),e=t[e];return i.push(e),i.reverse()}function setDistancesForHuman(e){0!==(e.o&manufacture.boat)?(distances[tileTypes.water]=1,distances[tileTypes.swamp]=1):0!==(e.o&manufacture.plane)&&(distances[tileTypes.water]=2,distances[tileTypes.swamp]=2)}function unsetDistancesForHuman(){distances[tileTypes.water]=normalWater,distances[tileTypes.swamp]=normalSwamp}function humanTravelFrom(e){var t=humanity(e);if(!t||t.h<=0)return{};setDistancesForHuman(t);var i=travelFrom(e,speedFromHuman(t));return unsetDistancesForHuman(t),i}function humanTravelTo(e,t,i,r){if(null==r&&(r=humanity(e)),!r||r.h<=0)return null;setDistancesForHuman(r);var a=travelTo(e,t,speedFromHuman(r),i,r);return unsetDistancesForHuman(r),a}function humanTravelPath(e,t){var i=humanTravelTo(e,t);return null==i?[]:pathFromParents(i.endKey,i.parents)}function manufactureFromBuilding(e){return e===tileTypes.dock?manufacture.boat:e===tileTypes.factory?manufacture.car:e===tileTypes.airport?manufacture.plane:e===tileTypes.gunsmith?manufacture.gun:null}function speedFromHuman(e){return 0!==(e.o&manufacture.plane)?32:0!==(e.o&manufacture.car)?16:8}function validConstruction(e,t,i){if(null==e)return!0;var r=humanity(t),a=terrain(t),n=i.lumber-i.usedLumber,s=i.metal-i.usedMetal,o=i.farm-i.usedFarm;if(!r||r.h<=0)return!1;if(a.type===tileTypes.water&&(e===tileTypes.farm||e===tileTypes.residence||e===tileTypes.skyscraper||e===tileTypes.factory||e===tileTypes.airland||e===tileTypes.airport||e===tileTypes.gunsmith))return!1;if(void 0!==buildingTileDependency[e]){for(var l=!1,p=0;p<buildingTileDependency[e].length;p++)(buildingTileDependency[e][p]===a.type||buildingTileDependency[e][p]===r.b)&&(l=!0);if(!l)return!1}if(void 0!==buildingDependencies[e]){for(var m=buildingDependencies[e],u=new Array(m.length),p=0;p<u.length;p++)u[p]=0;for(var p=0;6>p;p++)for(var h=neighborFromTile(t,p),f=humanity(h),c=terrain(h),y=0;y<m.length;y++)if(m[y][1]>=0&&f&&f.b===m[y][1]||c.type===m[y][1])u[y]++;else if(m[y][1]<0){if(m[y][1]===resourceTypes.lumber&&n<m[y][0])return!1;if(m[y][1]===resourceTypes.metal&&s<m[y][0])return!1;if(m[y][1]===resourceTypes.farm&&o<m[y][0])return!1;u[y]=m[y][0]}for(var y=0;y<u.length;y++)if(u[y]<m[y][0])return!1;return!0}return!0}function addPlan(e){plans[e.at]=e}function eachPlan(e){for(var t in plans)e(plans[t])}function clearPlans(){plans={}}function intPointFromReal(e){var t=e.q,i=e.r,r=-t-i,a=Math.round(t),n=Math.round(r),s=Math.round(i),o=Math.abs(a-t),l=Math.abs(n-r),p=Math.abs(s-i);return o>l&&o>p?a=-n-s:l>p?n=-a-s:s=-a-n,{q:a,r:s}}function tileFromPixel(e,t,i){var r=e.x+t.x0,a=e.y+t.y0;return intPointFromReal({q:(Math.sqrt(3)*r-a)/3/i,r:2*a/3/i})}function paintTilesRaw(e,t,i){var r=e.width,a=e.height,n=r*a*4,s=t+":"+i.x0+":"+i.y0;if(void 0===cachedTerrainPaint[s]){for(var o=new Uint8ClampedArray(n),l=0;a>l;l++)for(var p=0;r>p;p++){var m=terrain({x:(p+i.x0)/t,y:(l+i.y0)/t}),u=[0,0,0],h=0,f=0,c=0,y=0,d=-1,T=1;m.steepness==tileTypes.water?(u[2]=180,h=0,c=0,f=80,y=80,d=-2,T=-1.5):m.steepness==tileTypes.steppe?(h=10,c=190,f=85,y=170,d=-1.5,T=-.2):m.steepness==tileTypes.hill?(h=100,c=160,f=150,y=110,d=-.2,T=.2):(h=150,c=100,f=40,y=10,d=.2,T=1),m.type==tileTypes.forest&&(h=20,c=100,f=50,y=100);var v=(m.height-d)/(T-d);u[0]=v*f+(1-v)*h,u[1]=v*y+(1-v)*c;var g=Math.min(Math.abs(u[0]-u[1])/2*m.rain,255);u[1]-=g,u[2]-=Math.min(20*m.rain,255),m.vegetation&&(u[0]-=50,u[1]-=25,u[2]-=50);var M=4*(p+l*r);o[M+0]=u[0],o[M+1]=u[1],o[M+2]=u[2],o[M+3]=255}cachedTerrainPaint[s]=o}e.data.set(cachedTerrainPaint[s])}function paintRainfall(e,t,i){for(var r=e.width,a=e.height,n=r*a*4,s=new Uint8ClampedArray(n),o=0;a>o;o++)for(var l=0;r>l;l++){var p=tileFromPixel({x:l,y:o},i,t),m=terrain(p),u=(1-m.rain)/2,h=10,f=157,c=f/2|0;u=u*f+h|0;var y=u,d=u;if(m.type===tileTypes.water);else{var T=0|Math.abs(u-c);c>u?(y-=T,d+=T):u>c&&(y+=2*T,d+=T)}var v=4*(l+o*r);s[v+0]=y,s[v+1]=d,s[v+2]=u,s[v+3]=60}e.data.set(s)}!function(){function e(e){e||(e=Math.random),this.p=new Uint8Array(256),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var t=0;256>t;t++)this.p[t]=256*e();for(t=0;512>t;t++)this.perm[t]=this.p[255&t],this.permMod12[t]=this.perm[t]%12}var t=.5*(Math.sqrt(3)-1),i=(3-Math.sqrt(3))/6,r=1/3,a=1/6,n=(Math.sqrt(5)-1)/4,s=(5-Math.sqrt(5))/20;e.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(e,r){var a,n,s=this.permMod12,o=this.perm,l=this.grad3,p=0,m=0,u=0,h=(e+r)*t,f=Math.floor(e+h),c=Math.floor(r+h),y=(f+c)*i,d=f-y,T=c-y,v=e-d,g=r-T;v>g?(a=1,n=0):(a=0,n=1);var M=v-a+i,w=g-n+i,b=v-1+2*i,x=g-1+2*i,F=255&f,D=255&c,q=.5-v*v-g*g;if(q>=0){var P=3*s[F+o[D]];q*=q,p=q*q*(l[P]*v+l[P+1]*g)}var _=.5-M*M-w*w;if(_>=0){var A=3*s[F+a+o[D+n]];_*=_,m=_*_*(l[A]*M+l[A+1]*w)}var N=.5-b*b-x*x;if(N>=0){var S=3*s[F+1+o[D+1]];N*=N,u=N*N*(l[S]*b+l[S+1]*x)}return 70*(p+m+u)},noise3D:function(e,t,i){var n,s,o,l,p,m,u,h,f,c,y=this.permMod12,d=this.perm,T=this.grad3,v=(e+t+i)*r,g=Math.floor(e+v),M=Math.floor(t+v),w=Math.floor(i+v),b=(g+M+w)*a,x=g-b,F=M-b,D=w-b,q=e-x,P=t-F,_=i-D;q>=P?P>=_?(p=1,m=0,u=0,h=1,f=1,c=0):q>=_?(p=1,m=0,u=0,h=1,f=0,c=1):(p=0,m=0,u=1,h=1,f=0,c=1):_>P?(p=0,m=0,u=1,h=0,f=1,c=1):_>q?(p=0,m=1,u=0,h=0,f=1,c=1):(p=0,m=1,u=0,h=1,f=1,c=0);var A=q-p+a,N=P-m+a,S=_-u+a,R=q-h+2*a,K=P-f+2*a,k=_-c+2*a,H=q-1+3*a,U=P-1+3*a,E=_-1+3*a,V=255&g,W=255&M,L=255&w,O=.6-q*q-P*P-_*_;if(0>O)n=0;else{var z=3*y[V+d[W+d[L]]];O*=O,n=O*O*(T[z]*q+T[z+1]*P+T[z+2]*_)}var C=.6-A*A-N*N-S*S;if(0>C)s=0;else{var I=3*y[V+p+d[W+m+d[L+u]]];C*=C,s=C*C*(T[I]*A+T[I+1]*N+T[I+2]*S)}var X=.6-R*R-K*K-k*k;if(0>X)o=0;else{var B=3*y[V+h+d[W+f+d[L+c]]];X*=X,o=X*X*(T[B]*R+T[B+1]*K+T[B+2]*k)}var j=.6-H*H-U*U-E*E;if(0>j)l=0;else{var G=3*y[V+1+d[W+1+d[L+1]]];j*=j,l=j*j*(T[G]*H+T[G+1]*U+T[G+2]*E)}return 32*(n+s+o+l)},noise4D:function(e,t,i,r){var a,o,l,p,m,u=(this.permMod12,this.perm),h=this.grad4,f=(e+t+i+r)*n,c=Math.floor(e+f),y=Math.floor(t+f),d=Math.floor(i+f),T=Math.floor(r+f),v=(c+y+d+T)*s,g=c-v,M=y-v,w=d-v,b=T-v,x=e-g,F=t-M,D=i-w,q=r-b,P=0,_=0,A=0,N=0;x>F?P++:_++,x>D?P++:A++,x>q?P++:N++,F>D?_++:A++,F>q?_++:N++,D>q?A++:N++;var S,R,K,k,H,U,E,V,W,L,O,z;S=P>=3?1:0,R=_>=3?1:0,K=A>=3?1:0,k=N>=3?1:0,H=P>=2?1:0,U=_>=2?1:0,E=A>=2?1:0,V=N>=2?1:0,W=P>=1?1:0,L=_>=1?1:0,O=A>=1?1:0,z=N>=1?1:0;var C=x-S+s,I=F-R+s,X=D-K+s,B=q-k+s,j=x-H+2*s,G=F-U+2*s,J=D-E+2*s,Q=q-V+2*s,Y=x-W+3*s,Z=F-L+3*s,$=D-O+3*s,et=q-z+3*s,tt=x-1+4*s,it=F-1+4*s,rt=D-1+4*s,at=q-1+4*s,nt=255&c,st=255&y,ot=255&d,lt=255&T,pt=.6-x*x-F*F-D*D-q*q;if(0>pt)a=0;else{var mt=u[nt+u[st+u[ot+u[lt]]]]%32*4;pt*=pt,a=pt*pt*(h[mt]*x+h[mt+1]*F+h[mt+2]*D+h[mt+3]*q)}var ut=.6-C*C-I*I-X*X-B*B;if(0>ut)o=0;else{var ht=u[nt+S+u[st+R+u[ot+K+u[lt+k]]]]%32*4;ut*=ut,o=ut*ut*(h[ht]*C+h[ht+1]*I+h[ht+2]*X+h[ht+3]*B)}var ft=.6-j*j-G*G-J*J-Q*Q;if(0>ft)l=0;else{var ct=u[nt+H+u[st+U+u[ot+E+u[lt+V]]]]%32*4;ft*=ft,l=ft*ft*(h[ct]*j+h[ct+1]*G+h[ct+2]*J+h[ct+3]*Q)}var yt=.6-Y*Y-Z*Z-$*$-et*et;if(0>yt)p=0;else{var dt=u[nt+W+u[st+L+u[ot+O+u[lt+z]]]]%32*4;yt*=yt,p=yt*yt*(h[dt]*Y+h[dt+1]*Z+h[dt+2]*$+h[dt+3]*et)}var Tt=.6-tt*tt-it*it-rt*rt-at*at;if(0>Tt)m=0;else{var vt=u[nt+1+u[st+1+u[ot+1+u[lt+1]]]]%32*4;Tt*=Tt,m=Tt*Tt*(h[vt]*tt+h[vt+1]*it+h[vt+2]*rt+h[vt+3]*at)}return 27*(a+o+l+p+m)}},"undefined"!=typeof define&&define.amd&&define(function(){return e}),"undefined"!=typeof exports?exports.SimplexNoise=e:"undefined"!=typeof navigator&&(this.SimplexNoise=e),"undefined"!=typeof module&&(module.exports=e)}();var MersenneTwister=function(e){void 0==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)};MersenneTwister.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){var e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},MersenneTwister.prototype.init_by_array=function(e,t){var i,r,a;for(this.init_genrand(19650218),i=1,r=0,a=this.N>t?this.N:t;a;a--){var n=this.mt[i-1]^this.mt[i-1]>>>30;this.mt[i]=(this.mt[i]^(1664525*((4294901760&n)>>>16)<<16)+1664525*(65535&n))+e[r]+r,this.mt[i]>>>=0,i++,r++,i>=this.N&&(this.mt[0]=this.mt[this.N-1],i=1),r>=t&&(r=0)}for(a=this.N-1;a;a--){var n=this.mt[i-1]^this.mt[i-1]>>>30;this.mt[i]=(this.mt[i]^(1566083941*((4294901760&n)>>>16)<<16)+1566083941*(65535&n))-i,this.mt[i]>>>=0,i++,i>=this.N&&(this.mt[0]=this.mt[this.N-1],i=1)}this.mt[0]=2147483648},MersenneTwister.prototype.genrand_int32=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var i;for(this.mti==this.N+1&&this.init_genrand(5489),i=0;i<this.N-this.M;i++)e=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+this.M]^e>>>1^t[1&e];for(;i<this.N-1;i++)e=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,e^=e>>>18,e>>>0},MersenneTwister.prototype.genrand_int31=function(){return this.genrand_int32()>>>1},MersenneTwister.prototype.genrand_real1=function(){return this.genrand_int32()*(1/4294967295)},MersenneTwister.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},MersenneTwister.prototype.genrand_real3=function(){return(this.genrand_int32()+.5)*(1/4294967296)},MersenneTwister.prototype.genrand_res53=function(){var e=this.genrand_int32()>>>5,t=this.genrand_int32()>>>6;return(67108864*e+t)*(1/9007199254740992)};var prng=new MersenneTwister(0),simplex1=new SimplexNoise(prng.random.bind(prng)),simplex2=new SimplexNoise(prng.random.bind(prng)),factor=50,tileTypes={water:0,steppe:1,hill:2,mountain:3,swamp:4,meadow:5,forest:6,taiga:7,farm:8,residence:9,skyscraper:10,factory:11,dock:12,airland:13,airport:14,gunsmith:15,road:16,wall:17,blackdeath:18,metal:19,lumber:20,mine:21,industry:22,citrus:23,university:24,beach:25},buildingTypes=[8,9,10,11,12,13,14,15,16,17,20,21,22,24],resourceTypes={lumber:-1,metal:-2,farm:-3},listOfResourceTypes=[resourceTypes.lumber,resourceTypes.metal,resourceTypes.farm],tileVegetationTypeFromSteepness=[];tileVegetationTypeFromSteepness[tileTypes.water]=tileTypes.swamp,tileVegetationTypeFromSteepness[tileTypes.steppe]=tileTypes.meadow,tileVegetationTypeFromSteepness[tileTypes.hill]=tileTypes.forest,tileVegetationTypeFromSteepness[tileTypes.mountain]=tileTypes.taiga;var centerPoint={x:0,y:0},distances=[];distances[tileTypes.water]=2989,distances[tileTypes.steppe]=2,distances[tileTypes.hill]=4,distances[tileTypes.mountain]=16,distances[tileTypes.swamp]=8,distances[tileTypes.meadow]=3,distances[tileTypes.forest]=8,distances[tileTypes.taiga]=24,distances[tileTypes.road]=1,distances[tileTypes.wall]=32;var MAX_INT=9007199254740992,normalWater=distances[tileTypes.water],normalSwamp=distances[tileTypes.swamp],manufacture={boat:1,car:2,plane:4,gun:8},buildingDependencies=[,,,,,,,,,[[2,tileTypes.farm]],[[6,tileTypes.residence]],[[3,tileTypes.residence],[2,tileTypes.road]],[[1,tileTypes.residence],[1,tileTypes.water],[1,resourceTypes.lumber]],[[2,tileTypes.road]],[[1,tileTypes.gunsmith],[3,tileTypes.airland],[1,resourceTypes.lumber]],[[1,tileTypes.skyscraper],[1,tileTypes.factory]],,,,,[[1,tileTypes.residence]],[[1,resourceTypes.lumber],[1,tileTypes.factory]],[[10,resourceTypes.farm],[1,tileTypes.mine],[5,tileTypes.road]],,[[1,resourceTypes.metal],[20,resourceTypes.farm],[2,tileTypes.wall]]],buildingTileDependency=[,,,,,,,,,,,,,,,,,,,,[tileTypes.forest,tileTypes.taiga],[tileTypes.metal],,,[tileTypes.citrus]],planTypes={move:1,build:2},plans={};onmessage=function(e){return e.data.centerPoint?(centerPoint=e.data.centerPoint,void 0):("raw"===e.data.type?paintTilesRaw(e.data.image,e.data.size,e.data.origin):"rainfall"===e.data.type&&paintRainfall(e.data.image,e.data.size,e.data.origin),postMessage({image:e.data.image,size:e.data.size,origin:e.data.origin}),void 0)};var cachedTerrainPaint={};